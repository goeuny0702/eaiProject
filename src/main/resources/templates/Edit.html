<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>회원 정보 수정</title>
    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <link rel="stylesheet" th:href="@{/css/Edit.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <script th:src="@{/js/Edit.js}" defer></script>
</head>
<body>
<div th:replace="layout/header :: header"></div>
<div class="container">
    <!-- 왼쪽 이미지 등록 영역 -->
    <div class="left-box">
        <!-- 프로필 사진 출력 -->
        <div class="photo">
            <img th:src="@{${user.photoPath}}" alt="프로필 이미지" width="150" height="150" style="border-radius: 50%;">
        </div>

        <!-- 업로드/삭제 버튼 영역 -->
        <form th:action="@{'/Edit/' + ${user.userID} + '/image'}" method="post" enctype="multipart/form-data">
            <div class="btn-group">
                <input type="file" name="photo" accept="image/*" required style="margin-bottom: 10px;">
                <button type="submit">등록</button>
            </div>
        </form>

        <form th:action="@{'/Edit/' + ${user.userID} + '/delete-photo'}" method="post">
            <div class="btn-group">
                <button type="submit" style="background-color: red; color: white;">삭제</button>
            </div>
        </form>
    </div>


    <!-- 오른쪽 폼 입력 영역 -->
    <form class="form-box" id="editForm">
        <!-- 훈련기관 정보 -->
        <div class="section">
            <div class="form-row">
                <div class="form-label">훈련기관</div>
                <input type="text" name="instituteName" id="instituteName-input" />
                <span id="instituteName-text" style="display:none;"></span>
            </div>
            <div class="form-row">
                <div class="form-label">훈련과정</div>
                <input type="text" name="courseName" id="courseName-input" />
                <span id="courseName-text" style="display:none;"></span>
            </div>
            <div class="form-row">
                <div class="form-label">훈련기간</div>
                <input type="text" name="trainingPeriod" id="trainingPeriod-input" />
                <span id="trainingPeriod-text" style="display:none;"></span>
            </div>
        </div>

        <!-- 개인정보 -->
        <div class="section">
            <div class="section-title">개인정보</div>
            <div class="form-row">
                <div class="form-label">이름</div>
                <input type="text" name="name" id="name-input" />
                <span id="name-text" style="display:none;"></span>
            </div>
            <div class="form-row">
                <div class="form-label">전화번호</div>
                <input type="text" name="phone" id="phone-input" />
                <span id="phone-text" style="display:none;"></span>
            </div>
            <div class="form-row">
                <div class="form-label">이메일</div>
                <input type="email" name="email" id="email-input" />
                <span id="email-text" style="display:none;"></span>
            </div>
        </div>

        <!-- 장학금 수령정보 -->
        <div class="section">
            <div class="section-title">장학금 수령정보</div>

            <div class="form-row">
                <div class="form-label">은행명</div>
                <input type="text" name="bankName" id="bankName" />
                <span id="bankName-text" style="display:none;"></span>
            </div>

            <div class="form-row">
                <div class="form-label">계좌번호</div>
                <input type="text" name="bankAddress" id="bankAddress" />
                <span id="bankAddress-text" style="display:none;"></span>
            </div>

            <div class="form-row">
                <div class="form-label">예금주</div>
                <input type="text" name="bankOwner" id="bankOwner" />
                <span id="bankOwner-text" style="display:none;"></span>
            </div>
        </div>


        <!-- 수강평 -->
        <div class="section">
            <div class="section-title">수강평</div>
            <div class="form-row">
                <div class="form-label">훈련과정</div>
                <select name="selectedCourse" id="selectedCourse-input">
                    <option value="">선택</option>
                    <option value="AI">AI 솔루션 개발</option>
                    <option value="Web">웹 개발</option>
                </select>
                <span id="selectedCourse-text" style="display:none;"></span>
            </div>
            <div class="form-row">
                <div class="form-label">설문회차</div>
                <select name="sessionNumber" id="sessionNumber-input">
                    <option value="">선택</option>
                    <option value="1">1회차</option>
                    <option value="2">2회차</option>
                </select>
                <span id="sessionNumber-text" style="display:none;"></span>
            </div>
            <div class="form-row textarea-row">
                <textarea name="memo" id="memo-input" placeholder="텍스트를 입력하세요."></textarea>
                <span id="memo-text" style="display:none;"></span>
            </div>
        </div>

        <!-- 하단 버튼 -->
        <div class="bottom-buttons">
            <button type="button" onclick="goNext()">다음</button>
            <button type="button" id="saveBtn" onclick="saveAll()">저장</button>
            <button type="button" id="editBtn" onclick="toggleEdit()" style="display: none;">수정</button>
        </div>
    </form>
</div>
<!--푸터-->
<div th:replace="layout/footer :: footer"></div>
</body>
</html>
